# 3D 拦截环境半径参数分析

为了定位训练胜率长期为 0 的原因，针对默认配置中的命中/威胁半径进行了几何分析：

* 目标与防守者的初始相对位置：防守者在 `d_guard_radius=40` 的护航环上，沿着目标速度方向滞后约 15–40 m，并在纵/俯仰方向最多偏移 8 m (`0.2 * d_guard_radius`)。
* 攻击者的来向：默认生成在目标前方约 `front_hit_time * (p_speed_max + t_speed)` ≈ 1020 m 处，随后以 24 m/s 的速度朝目标收敛；目标本身以 10 m/s 前进。
* 当攻击者逼近目标到 28 m（旧的 `t_threat_radius`）时，目标已经行进至 ≈294 m，防守者仍大致保持在目标后方 30 m 左右。因此单个防守者与来袭者的直线距离约为

  ```
  sqrt(30^2 + 8^2 + 8^2) ≈ 33 m
  ```

  远大于旧的 `d_attack_radius=18 m` 与 `d_threat_radius=27 m`，导致即便进入威胁态也难以在目标被击中前完成拦截。

为此将参数调整为：

* **`t_attack_radius: 8`** —— 目标被命中所需的最近距离减小 20%，为防守方提供更多反应时间。
* **`d_attack_radius: 24`** —— 与防守者速度上限 20 m/s 匹配，可在尚未触发威胁态时提前截获来袭者。
* **`t_threat_radius: 60`** —— 提前进入威胁态，相当于在目标前方留出约 30 m 的缓冲区，防守者无需等到“贴脸”才获准使用扩展杀伤半径。需要注意的是，防守者的机动由管理器与 `attack` 基础策略驱动，会在来袭者进入视野后主动前出；60 m 只是开启增强杀伤半径的阈值，日常拦截仍可在更远处展开，只是此时命中判定使用默认的 24 m。
* **`d_threat_radius: 45`** —— 高于护航半径（40 m），使防守者在保持护航形态时也具备发动防区外截击的可能性。

调参后，护航阵位与威胁判定之间的空间关系如下图所示（示意比例未严格按米制）：

```
          攻击者
             |
             | 60 m 威胁缓冲区 (t_threat_radius)
             v
------(目标)------------------------------------>
          ^   ^
          |   |
  防守者护航环   ↳ 45 m 威胁态截击半径 (d_threat_radius)
```

新的半径组合保证：当攻击者距离目标 60–80 m 时，防守者与攻击者的直线距离可低于 40–45 m，允许在目标被命中前完成拦截，为策略学习提供可实现的成功路径。
